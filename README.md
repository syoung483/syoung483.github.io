# 应急安全教育平台

这是一个手机版应急安全教育网站，提供应急设备的拍照识别和3D模型展示功能。

## 功能特点

### 🏠 首页
- 四个主要功能模块的入口
- 响应式设计，适配手机端
- 现代化UI界面

### 📸 拍照识别模块
- 调用摄像头拍照
- 从相册选择图片
- 智能识别应急设备
- 识别结果展示
- 一键跳转到对应3D模型

### 📦 模型库模块
- 应急设备3D模型展示
- 支持模型旋转、缩放、平移
- 动画播放控制
- 实时阴影效果
- 自适应相机位置

### 🔧 模块三 & ⚙️ 模块四
- 预留模块，待开发

## 文件结构

```
xiao-cx/
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # JavaScript逻辑
├── package.json        # 项目配置
├── start.bat           # 启动脚本
├── README.md           # 说明文档
└── models/
    └── aed.glb         # AED模型文件（其他模型待添加）
```

## 使用方法

### 方法1：使用启动脚本（推荐）

双击运行 `start.bat` 文件，然后在浏览器中访问：`http://127.0.0.1:3000`

### 方法2：使用Node.js

1. 安装Node.js（如果还没有安装）
2. 在项目根目录运行：
   ```bash
   npm start
   ```
3. 打开浏览器访问：`http://localhost:8080`

### 方法3：使用Python服务器

如果您的系统有Python，可以运行：
```bash
# Python 3
python -m http.server 8080

# Python 2
python -m SimpleHTTPServer 8080
```

### 方法4：使用Live Server（VS Code扩展）

如果您使用VS Code，可以安装Live Server扩展，然后右键点击`index.html`选择"Open with Live Server"。

## 操作说明

### 首页操作
- 点击四个模块按钮进入对应功能页面
- 每个模块页面都有"返回首页"按钮

### 拍照识别模块
- **开启摄像头**：调用设备摄像头
- **拍照**：拍摄当前画面
- **从相册选择**：选择本地图片
- **关闭摄像头**：停止摄像头
- **查看3D模型**：跳转到识别结果的3D模型

### 模型库模块
- **鼠标左键拖拽**：旋转视角
- **鼠标滚轮**：缩放
- **鼠标右键拖拽**：平移视角
- **动画控制**：暂停/播放、速度调节

## 技术栈

- Three.js r128
- GLTFLoader
- DRACOLoader
- OrbitControls
- HTML5 Camera API
- Canvas API

## 支持的设备类型

目前支持识别的应急设备：
- 🏥 AED除颤器（有3D模型）
- 🧯 灭火器（占位符）
- 🚒 消防栓（占位符）
- 🩹 急救箱（占位符）

## 注意事项

1. 确保`models/aed.glb`文件存在
2. 需要通过HTTP服务器访问，直接打开HTML文件可能无法加载模型
3. 摄像头功能需要HTTPS环境或localhost
4. 如果模型加载失败，请检查浏览器控制台的错误信息

## 故障排除

### 模型无法加载
请检查：
1. 文件路径是否正确
2. 是否通过HTTP服务器访问
3. 浏览器是否支持WebGL
4. 网络连接是否正常（Draco解压器需要从CDN加载）

### 摄像头无法使用
请检查：
1. 浏览器是否支持getUserMedia API
2. 是否允许摄像头权限
3. 是否在HTTPS环境或localhost下运行

### 页面显示异常
请检查：
1. 浏览器是否支持ES6语法
2. 是否启用了JavaScript
3. 网络连接是否正常（Three.js从CDN加载）

## 开发计划

- [ ] 添加更多应急设备的3D模型
- [ ] 集成真实的AI识别API
- [ ] 添加设备使用教程
- [ ] 增加应急知识问答模块
- [ ] 优化移动端体验
